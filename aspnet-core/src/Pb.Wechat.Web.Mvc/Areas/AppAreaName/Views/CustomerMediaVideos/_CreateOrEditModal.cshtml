@using Pb.Wechat
@using Pb.Wechat.MpApiTokens.Dto
@using Pb.Wechat.Web.Areas.AppAreaName.Models.Common.Modals
@using Pb.Wechat.Web.Areas.AppAreaName.Models.CustomerMediaVideos
@model CreateOrEditCustomerMediaVideoViewModel

@Html.Partial("~/Areas/AppAreaName/Views/Common/Modals/_ModalHeader.cshtml", new ModalHeaderViewModel(Model.IsEditMode ? (L("Edit") + ": " + Model.Title) : L("Create")))

<div class="modal-body">

    <form id="UploadPicModalForm" method="POST" action="@(AppConsts.MvcAppPath +"AppAreaName/CustomerMediaVideos/SaveAndUpdate")">
        @if (Model.IsEditMode)
    {
        <input type="hidden" name="Id" value="@Model.Id" />
}
        <input type="hidden" name="MpID" value="@Model.MpID" />
        <input type="hidden" id="MediaID" name="MediaID" value="@Model.MediaID" />
        <input type="hidden" id="TypeId" name="TypeId" value="@Model.TypeId" />
        <input type="hidden" id="TypeName" name="TypeName" value="@Model.TypeName" />
        <input type="hidden" id="FilePathOrUrl" name="FilePathOrUrl" value="@Model.FilePathOrUrl" />

        <div class="form-group form-row-seperated form-md-floating-label">
            <label for="">标题</label>
            <input class="form-control edited" type="text" id="Title" name="Title" value="@Model.Title" required maxlength="50">
        </div>
        <div class="form-group form-row-seperated form-md-floating-label">
            <label for="Description">描述</label>
            <input class="form-control edited " type="text" id="Description" name="Description" value="@Model.Description" required maxlength="500">
        </div>
        <div class="form-group form-md-floating-label">
            <label class="control-label">选择分类：</label>
            <select class="form-control" id="sel_TypeDescription" class="form-control"></select>
        </div>

        <div class="form-group">
            <input type="file"  id="MediaVideo" name="UploadPic" />
            <div class="form-group form-md-floating-label">
                <video id="video" controls="controls" src="@Model.FilePathOrUrl" style="width:100%;"></video>
            </div>
            <span class="help-block m-b-none">视频文件不能超过10M，超过10M的视频可至腾讯视频上传后添加，也可通过添加视频详情页链接以及公众号文章链接插入视频，视频时长不少于1秒，不多于10小时，支持大部分主流视频格式。</span>
        </div>
    </form>


    @*<form name="DataForm" role="form" novalidate class="form-validation">
            @if (Model.IsEditMode)
            {
                <input type="hidden" name="Id" value="@Model.Id" />
            }
            <input type="hidden" name="MpID" value="@Model.MpID" />
            <input type="hidden" id="MediaID" name="MediaID" value="@Model.MediaID" />
            <input type="hidden" id="FileID" name="FileID" value="@Model.FileID" />
            <input type="hidden" id="FilePathOrUrl" name="FilePathOrUrl" value="@Model.FilePathOrUrl" />

            <div class="form-group form-row-seperated form-md-floating-label">
                <label for="Name">标题</label>
                <input class="form-control edited" type="text" name="Title" value="@Model.Title" required maxlength="50">
            </div>
            <div class="form-group form-row-seperated form-md-floating-label">
                <label for="Name">备注</label>
                <input class="form-control edited " type="text" name="Description" value="@Model.Description" required maxlength="500">
            </div>
        </form>
        <form id="UploadPicModalForm" method="POST" action="@(AppConsts.MvcAppPath +"Upload/UploadMatialVideo")">
            <div class="form-group">
                <input type="file" name="UploadPic" />
                <span class="help-block m-b-none">视频文件不能超过10M，超过10M的视频可至腾讯视频上传后添加，也可通过添加视频详情页链接以及公众号文章链接插入视频，视频时长不少于1秒，不多于10小时，支持大部分主流视频格式。</span>
            </div>
        </form>*@
</div>

@Html.Partial("~/Areas/AppAreaName/Views/Common/Modals/_ModalFooterWithSaveAndCancel.cshtml")