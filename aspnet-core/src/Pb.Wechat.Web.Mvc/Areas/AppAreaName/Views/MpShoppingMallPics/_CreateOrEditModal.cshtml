@using Pb.Wechat
@using Pb.Wechat.MpShoppingMallPics.Dto
@using Pb.Wechat.Web.Areas.AppAreaName.Models.Common.Modals
@using Pb.Wechat.Web.Areas.AppAreaName.Models.MpShoppingMallPics
@model CreateOrEditMpShoppingMallPicViewModel

@Html.Partial("~/Areas/AppAreaName/Views/Common/Modals/_ModalHeader.cshtml", new ModalHeaderViewModel(Model.IsEditMode ? (L("Edit") + ": " + Model.Name) : L("Create")))

<div class="modal-body">
    <div class="row">
        <form id="UploadPicModalForm" method="POST" action="@(AppConsts.MvcAppPath +"AppAreaName/MpShoppingMallPics/SaveAndUpdate")">
            <div class="col-md-7">

                @if (Model.IsEditMode)
                {
                    <input type="hidden" name="Id" value="@Model.Id" />
                }
                <input type="hidden" id="MpID" name="MpID" value="@Model.MpID" />
                <input type="hidden" id="LocalPicUrl" name="LocalPicUrl" value="@Model.LocalPicUrl" />
                <input type="hidden" id="LocalPicPath" name="LocalPicPath" value="@Model.LocalPicPath" />

                <div class="form-group form-md-line-input form-md-floating-label">
                    <label for="Name">名称</label>
                    <input class="form-control edited" type="text" id="Name" name="Name" value="@Model.Name" maxlength="500">
                </div>

                <div class="form-group form-md-line-input form-md-floating-label">
                    <label for="LinkUrl">图片链接</label>
                    <input class="form-control edited" type="text" name="LinkUrl" value="@Model.LinkUrl" maxlength="500">
                </div>


            </div>
            <div class="col-md-5">
                <img id="UploadPicResize" src="@Model.LocalPicUrl" style="width:200px;height:200px;" />
                <div class="form-group">
                    <input type="file" id="MediaImage" name="UploadPic" />
                    <span class="help-block m-b-none">只能选择2MB内的JPG/JPEG/PNG图片.</span>
                </div>

            </div>
        </form>
    </div>

</div>
@Html.Partial("~/Areas/AppAreaName/Views/Common/Modals/_ModalFooterWithSaveAndCancel.cshtml")
