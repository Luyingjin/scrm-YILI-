@using Pb.Wechat
@using Pb.Wechat.MpApiTokens.Dto
@using Pb.Wechat.Web.Areas.AppAreaName.Models.Common.Modals
@using Pb.Wechat.Web.Areas.AppAreaName.Models.MpSelfArticles
@model CreateOrEditMpSelfArticleViewModel

@Html.Partial("~/Areas/AppAreaName/Views/Common/Modals/_ModalHeader.cshtml", new ModalHeaderViewModel(Model.IsEditMode ? (L("Edit") + ": " + Model.Title) : L("Create")))

<div class="modal-body">
    <div class="row col-md-12">
        @*<div class="col-md-8">
                <form name="DataForm" role="form" novalidate class="form-validation">

                </form>
            </div>*@

        <form id="UploadPicModalForm" method="POST" action="@(AppConsts.MvcAppPath +"AppAreaName/MpSelfArticles/SaveAndUpdate")">


            <div class="col-md-8">
                @if (Model.IsEditMode)
                {
                    <input type="hidden" name="Id" value="@Model.Id" />
                }
                <input type="hidden" name="MpID" value="@Model.MpID" />
                <input type="hidden" id="PicMediaID" name="PicMediaID" value="@Model.PicMediaID" />
                <input type="hidden" id="PicFileID" name="PicFileID" value="@Model.PicFileID" />
                <input type="hidden" id="FilePathOrUrl" name="FilePathOrUrl" value="@Model.FilePathOrUrl" />

                <div class="form-group form-row-seperated form-md-floating-label">
                    <label for="Title">标题</label>
                    <input class="form-control edited" type="text" name="Title" id="Title" value="@Model.Title" required maxlength="200">
                </div>
                <div class="form-group form-row-seperated form-md-floating-label">
                    <label for="Description">摘要</label>
                    <textarea class="form-control edited " name="Description" rows="3">@Model.Description</textarea>
                </div>
                <div class="form-group form-row-seperated form-md-floating-label">
                    <label for="Url">链接</label>
                    <input class="form-control edited" type="text" name="AUrl" id="AUrl" value="@Model.AUrl" required maxlength="500">
                </div>
            </div>
            <div class="col-md-4">
                <img id="UploadPicResize" src="@Model.FilePathOrUrl" style="width:200px;height:200px;" />
                <div class="form-group">
                    <input type="file" id="MediaImage" name="UploadPic" />
                    <a href="javascript:void(0);" id="SelectPicButton" class="btn btn-primary blue"><i class="fa fa-plus"></i> 从图片选择</a>
                </div>

            </div>



        </form>


    </div>

</div>

@Html.Partial("~/Areas/AppAreaName/Views/Common/Modals/_ModalFooterWithSaveAndCancel.cshtml")